<ion-view title="New Trade">
  <ion-content padding="true" class="has-header" style="background: #0F0E0E">
    <div class="list card">
      <div class="list">
        <ion-item class="item-divider">Buy or Sell?</ion-item>
        <ion-item class="item-divider">{{form.tradeAction}}er Details</ion-item>
        <label class="item item-input">
          <span class="input-label">Account</span>
          <input type="hidden" ng-repeat="account in accountsList" 
          readonly ng-model="form.account" ng-init="form.account = account | json" >
          <input type="text" readonly ng-model="form.username">
        </label>
        <li class="item item-toggle">
          {{form.tradeAction}}
          <label class="toggle toggle-assertive">
            <input type="checkbox" ng-model="isSale" ng-change="setAction(allAssets)">
              <div class="track">
                <div class="handle"></div>
              </div>
          </label>
        </li>
        <ion-item class="item-divider">{{form.tradeAction}} which asset?</ion-item>
        <label class="item item-select">          
          <!--<img ng-src="{{icon.img}}" ng-repeat="icon in icons | filter: form.asset.alias">-->
          <select ng-model="form.asset" >
          <!--<select ng-model="form.asset" ng-init="form.asset.alias = 'external'" >-->
            <!--<option selected></option>-->
            <option ng-repeat="asset in assetList" ng-value="asset | json" >{{asset.alias}}</option>
          </select>
        </label>
        <ion-item class="item-divider">How much?</ion-item>
        <label class="item item-input">
          <span class="input-label">Amount</span>
          <input type="number" ng-model="form.amount">
        </label>
        <ion-item class="item-divider"> Offer valid for? ({{form.expiryTimestamp}})</ion-item>
        <input type="hidden" readonly ng-model="form.expiryTimestamp">
        <ion-item class="range range-royal"><span class="input-label">{{form.validDays}} Days</span> 1
          <input type="range" min="1" max="4" step="1" ng-model="form.validDays" ng-change="calcExpirydate(form.validDays)">4
        </ion-item>
        <a ng-click="makeOffer(form)" class="button button-positive  button-block">Post Trade</a>
      </div>
    </div>
  </ion-content>
</ion-view>
